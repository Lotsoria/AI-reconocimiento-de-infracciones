# app/config/scenes/demo_intersection.yaml
include: "app/config/default.yaml"

geometry:
  # Línea de stop (para luz roja)
  stop_line: [[200, 520], [980, 520]]

  # Líneas para medir velocidad (A y B)
  speed_lines:
    A: [[300, 600], [1100, 600]]
    B: [[300, 700], [1100, 700]]

  # Línea central de carril (fallback si no hay lane detector robusto)
  lane_center: [[640, 220], [640, 900]]

  # Polígono que no debe cruzarse (línea continua / carril contrario)
  no_cross_polygon: [[610,180],[670,180],[700,900],[580,900]]

sem_light:
  roi: [100, 100, 180, 220]  # ROI del semáforo (x1,y1,x2,y2)
  red_threshold: 1.3         # Umbral de rojizo (R/G) para "rojo"

speed:
  pixel_distance: 120        # distancia en px entre líneas A y B
  k_calibration: 0.18        # factor m/pix (ajusta con referencia real)
  limit_kmh: 40

helmet:
  min_persistence_frames: 6  # frames consecutivos sin casco para reportar

lane:
  persistence_frames: 5